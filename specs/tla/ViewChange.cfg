CONSTANTS
    Replicas = {r1, r2, r3}
    QuorumSize = 2
    MaxView = 3
    MaxOp = 4
    MaxCommit = 4

SPECIFICATION Spec

INVARIANTS
    TypeOK
    ViewChangePreservesCommits

PROPERTIES
    ViewChangePreservesCommitNumber

CONSTRAINT
    \* Bound state space for model checking
    /\ \A r \in Replicas : view[r] <= MaxView
    /\ \A r \in Replicas : opNumber[r] <= MaxOp
    /\ \A r \in Replicas : commitNumber[r] <= MaxCommit
