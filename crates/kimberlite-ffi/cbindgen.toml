# cbindgen configuration for generating C header
# See https://github.com/mozilla/cbindgen/blob/master/docs.md

language = "C"
autogen_warning = "/* Warning, this file is autogenerated by cbindgen. Don't modify this manually. */"
include_version = true
namespace = "kimberlite"
include_guard = "KIMBERLITE_FFI_H"
tab_width = 4
line_length = 100
documentation = true
documentation_style = "c"

[defines]
"target_os = windows" = "KMB_WINDOWS"
"target_os = macos" = "KMB_MACOS"
"target_os = linux" = "KMB_LINUX"

[export]
prefix = "kmb_"
item_types = ["globals", "enums", "structs", "unions", "typedefs", "opaque", "functions", "constants"]

[export.rename]
"KmbError" = "KmbError"
"KmbClient" = "KmbClient"

[enum]
rename_variants = "ScreamingSnakeCase"
prefix_with_name = true

[fn]
# All functions return KmbError, use out-parameters for results
rename_args = "None"

[struct]
derive_eq = false
derive_neq = false

[parse]
parse_deps = false
include = []
exclude = []

[parse.expand]
crates = []
all_features = false
default_features = true
features = []
