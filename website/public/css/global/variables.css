:root {
  /* ========================================
     RAW COLOR SCALE (OKLCH)
     Monochrome with warm sandy accent
     ======================================== */

  /* Pure values */
  --raw-white: oklch(100% 0 0);
  --raw-black: oklch(0% 0 0);

  /* Ink Scale (warm blacks for book-like feel)
     Slight warm undertone (hue ~55) */
  --raw-ink-950: oklch(10% 0.008 55);
  --raw-ink-900: oklch(15% 0.010 55);
  --raw-ink-800: oklch(22% 0.012 55);
  --raw-ink-700: oklch(32% 0.012 55);
  --raw-ink-600: oklch(42% 0.010 55);
  --raw-ink-500: oklch(52% 0.008 55);
  --raw-ink-400: oklch(62% 0.006 55);
  --raw-ink-300: oklch(72% 0.005 50);
  --raw-ink-200: oklch(82% 0.004 50);
  --raw-ink-100: oklch(92% 0.003 50);
  --raw-ink-50: oklch(97% 0.002 50);

  /* Sand Scale (neutral warm-grey for refined feel)
     Lower chroma for less saturated, more grey appearance */
  --raw-sand-100: oklch(96% 0.006 70);
  --raw-sand-200: oklch(93% 0.010 70);
  --raw-sand-300: oklch(89% 0.015 65);
  --raw-sand-400: oklch(84% 0.020 60);
  --raw-sand-500: oklch(77% 0.025 55);

  /* ========================================
     SEMANTIC SURFACE TOKENS
     ======================================== */
  --surface-base: var(--raw-sand-100);
  --surface-1: var(--raw-ink-50);
  --surface-2: var(--raw-sand-100);
  --surface-3: var(--raw-sand-200);
  --surface-inverted: var(--raw-ink-900);
  --surface-inverted-subtle: var(--raw-ink-800);
  --surface-interactive: var(--raw-ink-100);
  --surface-interactive-active: var(--raw-ink-200);

  /* ========================================
     SEMANTIC TEXT TOKENS
     ======================================== */
  --text-primary: var(--raw-ink-900);
  --text-secondary: var(--raw-ink-700);
  --text-muted: var(--raw-ink-600);
  --text-subtle: var(--raw-ink-500);
  --text-inverted: var(--raw-white);
  --text-inverted-muted: var(--raw-ink-300);
  --text-link: var(--raw-ink-900);
  --text-link-hover: var(--raw-ink-700);

  /* ========================================
     SEMANTIC BORDER TOKENS
     ======================================== */
  --border-subtle: var(--raw-ink-200);
  --border-default: var(--raw-ink-300);
  --border-strong: var(--raw-ink-400);
  --border-emphasis: var(--raw-ink-900);
  --border-accent: var(--raw-sand-400);
  --border-accent-strong: var(--raw-sand-500);

  /* ========================================
     SEMANTIC ACCENT TOKENS
     ======================================== */
  --accent-subtle: var(--raw-sand-200);
  --accent-default: var(--raw-sand-300);
  --accent-strong: var(--raw-sand-400);
  --accent-emphasis: var(--raw-sand-500);

  /* ========================================
     STATE TOKENS (for interactive visualizations)
     ======================================== */
  --state-valid: oklch(55% 0.15 145);
  --state-valid-subtle: oklch(92% 0.05 145);
  --state-invalid: oklch(55% 0.18 25);
  --state-invalid-subtle: oklch(92% 0.06 25);
  --state-computing: oklch(65% 0.12 85);
  --state-computing-subtle: oklch(92% 0.05 85);
  --state-neutral: var(--raw-ink-500);
  --state-highlight: oklch(60% 0.15 250);
  --state-highlight-subtle: oklch(92% 0.05 250);

  /* ========================================
     SEMANTIC INTERACTIVE TOKENS
     ======================================== */
  --interactive-primary: var(--raw-ink-900);
  --interactive-primary-hover: var(--raw-ink-800);
  --interactive-primary-text: var(--raw-white);
  --interactive-secondary: var(--raw-white);
  --interactive-secondary-border: var(--raw-ink-300);
  --interactive-secondary-hover-bg: var(--raw-ink-50);
  --interactive-secondary-hover-border: var(--raw-ink-500);
  --focus-ring: var(--raw-ink-900);

  /* ========================================
     LEGACY COMPATIBILITY
     Map old tokens to new system
     ======================================== */
  --color-text: var(--text-primary);
  --color-text-muted: var(--text-muted);
  --color-bg: var(--surface-base);
  --color-bg-alt: var(--surface-2);
  --color-border: var(--border-subtle);
  --color-link: var(--text-link);
  --color-link-hover: var(--text-link-hover);

  /* Gray scale compatibility */
  --color-white: var(--raw-white);
  --color-black: var(--raw-ink-950);
  --color-gray-50: var(--raw-ink-50);
  --color-gray-100: var(--raw-ink-100);
  --color-gray-200: var(--raw-ink-200);
  --color-gray-300: var(--raw-ink-300);
  --color-gray-400: var(--raw-ink-400);
  --color-gray-500: var(--raw-ink-500);
  --color-gray-600: var(--raw-ink-600);
  --color-gray-700: var(--raw-ink-700);
  --color-gray-800: var(--raw-ink-800);
  --color-gray-900: var(--raw-ink-900);

  /* ========================================
     Typography
     ======================================== */
  /* Font Families */
  --font-serif-compressed: 'Serrif Compressed', Georgia, 'Times New Roman', serif;
  --font-serif: 'Serrif', Georgia, 'Times New Roman', serif;
  --font-sans: 'Saans', system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", sans-serif;
  --font-mono: ui-monospace, "Cascadia Code", "Source Code Pro", Menlo, Consolas, "DejaVu Sans Mono", monospace;

  /* Semantic Font Assignments */
  --font-heading-display: var(--font-serif-compressed);
  --font-heading: var(--font-serif);
  --font-body: var(--font-serif);
  --font-ui: var(--font-sans);
  --font-meta: var(--font-sans);

  /* Fluid Type Scale (Utopia-style clamp)
     @link https://utopia.fyi/type/calculator?c=360,16,1.333,1240,18,1.333,8,2 */
  --step--2: clamp(0.5628rem, 0.5372rem + 0.1137vw, 0.6253rem);
  --step--1: clamp(0.7502rem, 0.7161rem + 0.1516vw, 0.8336rem);
  --step-0: clamp(1rem, 0.9545rem + 0.2022vw, 1.1113rem);
  --step-1: clamp(1.333rem, 1.2724rem + 0.2693vw, 1.4816rem);
  --step-2: clamp(1.7769rem, 1.6961rem + 0.3589vw, 1.9751rem);
  --step-3: clamp(2.369rem, 2.2612rem + 0.4788vw, 2.6335rem);
  --step-4: clamp(3.1573rem, 3.0137rem + 0.6379vw, 3.5108rem);
  --step-5: clamp(4.2087rem, 4.0172rem + 0.8514vw, 4.6806rem);
  --step-6: clamp(5.6103rem, 5.3549rem + 1.1352vw, 6.2398rem);
  --step-7: clamp(7.478rem, 7.1373rem + 1.5143vw, 8.3178rem);
  --step-8: clamp(9.9688rem, 9.5148rem + 2.0178vw, 11.0879rem);

  /* ========================================
     Spacing Scale (Fluid)
     @link https://utopia.fyi/space/calculator?c=360,18,1.333,1240,20,1.333,8,2
     ======================================== */
  --space-3xs: clamp(0.3125rem, 0.3125rem + 0vw, 0.3125rem);
  --space-2xs: clamp(0.5625rem, 0.5369rem + 0.1136vw, 0.625rem);
  --space-xs: clamp(0.875rem, 0.8494rem + 0.1136vw, 0.9375rem);
  --space-s: clamp(1.125rem, 1.0739rem + 0.2273vw, 1.25rem);
  --space-m: clamp(1.6875rem, 1.6108rem + 0.3409vw, 1.875rem);
  --space-l: clamp(2.25rem, 2.1477rem + 0.4545vw, 2.5rem);
  --space-xl: clamp(3.375rem, 3.2216rem + 0.6818vw, 3.75rem);
  --space-2xl: clamp(4.5rem, 4.2955rem + 0.9091vw, 5rem);
  --space-3xl: clamp(6.75rem, 6.4432rem + 1.3636vw, 7.5rem);

  /* One-up pairs */
  --space-3xs-2xs: clamp(0.3125rem, 0.1847rem + 0.5682vw, 0.625rem);
  --space-2xs-xs: clamp(0.5625rem, 0.4091rem + 0.6818vw, 0.9375rem);
  --space-xs-s: clamp(0.875rem, 0.7216rem + 0.6818vw, 1.25rem);
  --space-s-m: clamp(1.125rem, 0.8182rem + 1.3636vw, 1.875rem);
  --space-m-l: clamp(1.6875rem, 1.3551rem + 1.4773vw, 2.5rem);
  --space-l-xl: clamp(2.25rem, 1.6364rem + 2.7273vw, 3.75rem);
  --space-xl-2xl: clamp(3.375rem, 2.7102rem + 2.9545vw, 5rem);
  --space-2xl-3xl: clamp(4.5rem, 3.2727rem + 5.4545vw, 7.5rem);

  /* Custom pairs */
  --space-s-l: clamp(1.125rem, 0.5625rem + 2.5vw, 2.5rem);
  --space-s-xl: clamp(1.125rem, 0.0511rem + 4.7727vw, 3.75rem);
  --space-xs-l: clamp(0.875rem, 0.2102rem + 2.9545vw, 2.5rem);

  /* ========================================
     Layout Tokens
     ======================================== */
  --gutter: var(--space-m);
  --region: var(--space-2xl);
  --flow-space: var(--space-m);

  --measure: 65ch;
  --measure-narrow: 45ch;

  /* Wrapper widths */
  --wrapper-max: 80rem;
  --wrapper-narrow: 50rem;

  /* ========================================
     Miscellaneous
     ======================================== */
  --radius-s: 0.25rem;
  --radius-m: 0.5rem;
  --radius-l: 1rem;
  --radius-full: 9999px;

  /* Subtle shadows for book-like aesthetic */
  --shadow-s: 0 1px 2px 0 oklch(0% 0 0 / 0.04);
  --shadow-m: 0 4px 6px -1px oklch(0% 0 0 / 0.06), 0 2px 4px -2px oklch(0% 0 0 / 0.04);
  --shadow-l: 0 10px 15px -3px oklch(0% 0 0 / 0.08), 0 4px 6px -4px oklch(0% 0 0 / 0.04);

  --transition-fast: 150ms ease;
  --transition-base: 250ms ease;
}
