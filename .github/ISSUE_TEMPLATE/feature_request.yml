name: Feature Request
description: Propose a new feature for Kimberlite
title: "[Feature]: "
labels: ["enhancement", "needs-triage"]
body:
  - type: markdown
    attributes:
      value: |
        Thanks for suggesting a feature! Please describe your idea below.

  - type: textarea
    id: problem
    attributes:
      label: Problem Statement
      description: What problem does this feature solve? What use case does it enable?
      placeholder: As a compliance officer, I need to...
    validations:
      required: true

  - type: textarea
    id: solution
    attributes:
      label: Proposed Solution
      description: Describe your proposed solution or API design
      placeholder: |
        Add a new SQL function:
        ```sql
        SELECT audit_trail(table_name, start_time, end_time);
        ```
    validations:
      required: true

  - type: textarea
    id: invariants
    attributes:
      label: Impact on Core Invariants
      description: How does this interact with Kimberlite's core design principles? (immutable log, deterministic kernel, hash chain integrity, MVCC)
      placeholder: This maintains immutability by...
    validations:
      required: true

  - type: textarea
    id: alternatives
    attributes:
      label: Alternatives Considered
      description: What other approaches did you consider? Why is this approach better?

  - type: dropdown
    id: breaking
    attributes:
      label: Breaking Change?
      description: Would this require breaking API changes?
      options:
        - "No - fully backward compatible"
        - "Yes - requires major version bump"
        - "Maybe - depends on implementation"
    validations:
      required: true

  - type: dropdown
    id: component
    attributes:
      label: Component
      description: Which component would this affect?
      options:
        - Kernel (state machine)
        - Storage (append-only log)
        - Query (SQL engine)
        - VSR (consensus protocol)
        - Crypto (hash chains, encryption)
        - API/Client
        - CLI/Server
        - Documentation
        - Other
    validations:
      required: true

  - type: textarea
    id: context
    attributes:
      label: Additional Context
      description: Any other context, diagrams, or examples

  - type: checkboxes
    id: checklist
    attributes:
      label: Pre-submission Checklist
      options:
        - label: I searched existing issues and this feature hasn't been proposed
          required: true
        - label: This aligns with Kimberlite's compliance-first design philosophy
          required: false
        - label: I'm willing to contribute a PR for this feature
          required: false
